CODE SEGMENT
ASSUME CS:CODE
START:
PUSH DS
MOV AX,0000H
MOV BX,0141H
MOV DS,AX
MOV AX, OFFSET MIR7
MOV SI,003CH 
MOV [SI],AX;设置中断向量表向量号0F的IP值，主片中断序号7
MOV AX,CS
MOV SI,003EH
MOV [SI],AX;设置中断向量表向量号0F的CS值
CLI;关中断
POP DS
;初始化主片8259
MOV AL,11H;写入ICW1 00010001B 边沿触发，级联方式
OUT 20H,AL
MOV AL,08H;写入ICW2 00001000B 设置中断向量号08H
OUT 21H,AL
MOV AL,04H;写入ICW3 00000100B 设定IR2级联从片
OUT 21H,AL
MOV AL,01H;写入ICW4 00000001B普通全嵌套方式，普通中断方式
OUT 21H,AL
MOV AL,6FH;写入OCW1 01101111B 屏蔽命令字
OUT 21H,AL
STI;开中断
LOOP0:
NOP
JMP LOOP0
MIR7:

STI;开中断
CALL DELAY;延迟
MOV AX,BX;0141H 41对应A
INT 10H;显示字母
ADD BX,1
MOV AX,0120H
INT 10H;显示空格
MOV AL,20H ;发送EOI命令
OUT 20H,AL
IRET ;中断返回

DELAY: 

PUSH CX
MOV CX,0F00H
LOOP1:
PUSH AX
POP AX
LOOP LOOP1
POP CX
RET
CODE ENDS
END START